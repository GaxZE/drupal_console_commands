# Usage: drupal site:rebuild --placeholder="name:subscriptions"
command:
  name: site:rebuild
  description: 'Performs necessary steps to rebuild the site from a given source.'
commands:
# Run composer.
  - command: site:compose
    options:
      placeholder:
        - 'name:%{{name}}'
# Run NPM.
  - command: site:npm
    options:
      placeholder:
        - 'name:%{{name}}'
# Run Grunt.
  - command: site:grunt
    options:
      placeholder:
        - 'name:%{{name}}'
# Generate the settings.
  - command: site:configure
    options:
      placeholder:
        - 'name:%{{name}}'
# Tests setup.
  - command: site:test:setup
    options:
      placeholder:
        - 'name:%{{name}}'
# Imports db or installs a site
  - command: site:db:import
    arguments:
      name: '%{{name}}'
# Run updates.
  - command: site:update
    options:
      placeholder:
        - 'name:%{{name}}'
